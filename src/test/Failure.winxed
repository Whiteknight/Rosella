namespace Rosella { namespace Test
{
    /* A test failure. Set up and throw an exception with this object as a
       payload to signal an assertion failure (as opposed to other kind of
       runtime error).
    */
    class Failure
    {
        var exception;

        function BUILD(string msg)
        {
            self.exception = new 'Exception';
            self.exception.message = msg;
            self.exception.payload = self;
        }

        function throw()
        {
            throw self.exception;
        }
    }
}}
